!function(){"use strict";angular.module("ApplicationServices",[])}(),angular.module("ApplicationServices").service("CompanyApplicationService",function(){var e=[];this.RegisterObserver=function(t){e.push(t)},this.NotifyObservers=function(){angular.forEach(e,function(e){e()})},this.SelectedCompany=null,this.GetSelectedCompany=function(){return SelectedCompany},this.SetSelectedCompany=function(e){this.SelectedCompany=e,this.NotifyObservers()}}),angular.module("ApplicationServices").service("SelectionApplicationService",function(){this.CompanyId=null,this.GetCompanyId=function(){return this.CompanyId},this.SetCompanyId=function(e){this.CompanyId=e},this.CustomerId=null,this.GetCustomerId=function(){return this.CustomerId},this.SetCustomerId=function(e){this.CustomerId=e},this.LocationId=null,this.GetLocationId=function(){return this.LocationId},this.SetLocationId=function(e){this.LocationId=e},this.SurveyId=null,this.GetSurveyId=function(){return this.SurveyId},this.SetSurveyId=function(e){this.SurveyId=e},this.SurveyHeaderId=null,this.GetSurveyHeaderId=function(){return this.SurveyHeaderId},this.SetSurveyHeaderId=function(e){this.SurveyHeaderId=e},this.Clear=function(){this.CompanyId=null,this.CustomerId=null,this.LocationId=null,this.SurveyId=null,this.SurveyHeaderId=null}}),angular.module("ApplicationServices").service("SurveyApplicationService",function(){var e=[];this.RegisterObserver=function(t){e.push(t)},this.NotifyObservers=function(){angular.forEach(e,function(e){e()})},this.SelectedSurvey=null,this.GetSelectedCompany=function(){return SelectedSurvey},this.SetSelectedSurvey=function(e){this.SelectedSurvey=e,this.NotifyObservers()}}),function(){"use strict";angular.module("DatabaseServices",[])}(),function(){"use strict";angular.module("DatabaseServices").service("CompanyService",["$http","$q","breeze","breezeservice",function(e,t,r,n){var o=this;this.deferredRequest=null,this.Search=function(e,i,a,u,d){d=d||!1,null!==this.deferredRequest&&d&&(this.deferredRequest.reject("Cancelled Search Request."),this.deferredRequest=null);var l=t.defer(),c=new r.EntityQuery({from:"CompanyApi/Search",where:e,orderBy:i,skip:a*u,take:u});return n.executeQuery(c).then(function(e){l.resolve(e.httpResponse.data),o.deferredRequest=null},function(e,t){l.reject(e),o.deferredRequest=null}),this.deferredRequest=l,l.promise},this.AdminSearch=function(e,i,a,u,d){d=d||!1,null!==this.deferredRequest&&d&&(this.deferredRequest.reject("Cancelled Search Request."),this.deferredRequest=null);var l=t.defer(),c=new r.EntityQuery({from:"CompanyApi/AdminSearch",where:e,orderBy:i,skip:a*u,take:u});return n.executeQuery(c).then(function(e){l.resolve(e.httpResponse.data),o.deferredRequest=null},function(e,t){l.reject(e),o.deferredRequest=null}),this.deferredRequest=l,l.promise},this.Get=function(r){var n=t.defer();return e({method:"Get",url:"/breeze/CompanyApi/Get/"+r}).success(function(e,t,r,o){n.resolve(e)}).error(function(e,t){n.reject(e)}),n.promise},this.Create=function(r){var n=t.defer();return e.post("/breeze/CompanyApi/Create",r).then(function(e){n.resolve(e)},function(e){e.statusText.length>0?n.reject(e.statusText):n.reject("Failed to create the record.")}),n.promise},this.Update=function(r,n){var o=t.defer();return e.put("/breeze/CompanyApi/Update/"+r,n).then(function(e){o.resolve(e)},function(e){e.statusText.length>0?o.reject(e):o.reject("Failed to update the record.")}),o.promise},this.Delete=function(r){var n=t.defer();return e.delete("/breeze/CompanyApi/Delete/"+r).then(function(e){n.resolve(e)},function(e){e.statusText.length>0?n.reject(e):n.reject("Failed to delete the record.")}),n.promise}}])}(),function(){function e(e,t,r,n){function o(e){return l.executeQuery(e).then(function(e){return e})}function i(){var e=n.EntityQuery.from(resourceName);return o(e)}var a="/breeze",u=new n.DataService({serviceName:a,hasServerMetadata:!1}),d=new n.MetadataStore;d.importMetadata(window.breeze.metadata);var l=new n.EntityManager({dataService:u,metadataStore:d}),c=l.metadataStore;c.setEntityTypeForResourceName("UserRoleApi/Search","UserRoleViewModel"),c.setEntityTypeForResourceName("CompanyApi/Search","CompanyViewModel"),c.setEntityTypeForResourceName("CustomerApi/Search","CustomerViewModel"),c.setEntityTypeForResourceName("SurveyCustomerLocationApi/Search","SurveyCustomerLocationViewModel"),c.setEntityTypeForResourceName("SurveyProductQuestionApi/Search","SurveyProductQuestionViewModel"),c.setEntityTypeForResourceName("RoleApi/Search","RoleViewModel"),c.setEntityTypeForResourceName("MapApi/Search","MapViewModel");var s={executeQuery:o,all:i};return s}angular.module("DatabaseServices").factory("breezeservice",["$http","$q","$timeout","breeze",e])}(),window.breeze=window.breeze||{},window.breeze.metadata=JSON.stringify({schema:{namespace:"Merchandiser",alias:"Self","annotation:UseStrongSpatialTypes":"false","xmlns:annotation":"http://schemas.microsoft.com/ado/2009/02/edm/annotation","xmlns:customannotation":"http://schemas.microsoft.com/ado/2013/11/edm/customannotation",xmlns:"http://schemas.microsoft.com/ado/2009/11/edm",cSpaceOSpaceMapping:'[["Merchandiser.CompanyViewModel","Merchandiser.Models.CompanyViewModel"],["Merchandiser.CustomerViewModel","Merchandiser.Models.CustomerViewModel"],["Merchandiser.MapViewModel","Merchandiser.Models.MapViewModel"],["Merchandiser.RoleViewModel","Merchandiser.Models.RoleViewModel"],["Merchandiser.SurveyCustomerLocationViewModel","Merchandiser.Models.SurveyCustomerLocationViewModel"],["Merchandiser.LocationViewModel","Merchandiser.Models.LocationViewModel"],["Merchandiser.SurveyViewModel","Merchandiser.Models.SurveyViewModel"],["Merchandiser.SurveyProductQuestionViewModel","Merchandiser.Models.SurveyProductQuestionViewModel"],["Merchandiser.ProductViewModel","Merchandiser.Models.ProductViewModel"],["Merchandiser.QuestionViewModel","Merchandiser.Models.QuestionViewModel"],["Merchandiser.UserRoleViewModel","Merchandiser.Models.UserRoleViewModel"],["Merchandiser.UserViewModel","Merchandiser.Models.UserViewModel"]]',entityType:[{name:"CompanyViewModel","customannotation:ClrType":"Merchandiser.Models.CompanyViewModel, Merchandiser, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null",key:{propertyRef:{name:"Id"}},property:[{name:"Id",type:"Edm.Guid",nullable:"false"},{name:"Name",type:"Edm.String",maxLength:"Max",fixedLength:"false",unicode:"true"},{name:"Created",type:"Edm.DateTime",nullable:"false"},{name:"CreatedBy",type:"Edm.String",maxLength:"Max",fixedLength:"false",unicode:"true"},{name:"ModifiedBy",type:"Edm.String",maxLength:"Max",fixedLength:"false",unicode:"true"}]},{name:"CustomerViewModel","customannotation:ClrType":"Merchandiser.Models.CustomerViewModel, Merchandiser, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null",key:{propertyRef:{name:"Id"}},property:[{name:"Id",type:"Edm.Guid",nullable:"false"},{name:"CompanyId",type:"Edm.Guid",nullable:"false"},{name:"Name",type:"Edm.String",maxLength:"Max",fixedLength:"false",unicode:"true"},{name:"Created",type:"Edm.DateTime",nullable:"false"},{name:"CreatedBy",type:"Edm.String",maxLength:"Max",fixedLength:"false",unicode:"true"},{name:"ModifiedBy",type:"Edm.String",maxLength:"Max",fixedLength:"false",unicode:"true"}]},{name:"MapViewModel","customannotation:ClrType":"Merchandiser.Models.MapViewModel, Merchandiser, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null",key:{propertyRef:{name:"Id"}},property:[{name:"Id",type:"Edm.Guid",nullable:"false"},{name:"Latitude",type:"Edm.Decimal",precision:"18",scale:"2"},{name:"Longitude",type:"Edm.Decimal",precision:"18",scale:"2"},{name:"Created",type:"Edm.DateTime",nullable:"false"},{name:"FirstName",type:"Edm.String",maxLength:"Max",fixedLength:"false",unicode:"true"},{name:"LastName",type:"Edm.String",maxLength:"Max",fixedLength:"false",unicode:"true"},{name:"CompanyId",type:"Edm.Guid",nullable:"false"},{name:"CustomerId",type:"Edm.Guid",nullable:"false"},{name:"LocationId",type:"Edm.Guid",nullable:"false"},{name:"SurveyId",type:"Edm.Guid",nullable:"false"}]},{name:"RoleViewModel","customannotation:ClrType":"Merchandiser.Models.RoleViewModel, Merchandiser, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null",key:{propertyRef:{name:"Id"}},property:[{name:"Id",type:"Edm.String",maxLength:"128",fixedLength:"false",unicode:"true",nullable:"false"},{name:"Name",type:"Edm.String",maxLength:"Max",fixedLength:"false",unicode:"true"}]},{name:"SurveyCustomerLocationViewModel","customannotation:ClrType":"Merchandiser.Models.SurveyCustomerLocationViewModel, Merchandiser, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null",key:{propertyRef:{name:"Id"}},property:[{name:"Id",type:"Edm.Guid",nullable:"false"},{name:"CompanyId",type:"Edm.Guid",nullable:"false"},{name:"SurveyId",type:"Edm.Guid",nullable:"false"},{name:"CustomerId",type:"Edm.Guid",nullable:"false"},{name:"LocationId",type:"Edm.Guid",nullable:"false"},{name:"Name",type:"Edm.String",maxLength:"Max",fixedLength:"false",unicode:"true"},{name:"Modifed",type:"Edm.DateTime",nullable:"false"},{name:"Created",type:"Edm.DateTime",nullable:"false"},{name:"CreatedBy",type:"Edm.String",maxLength:"Max",fixedLength:"false",unicode:"true"},{name:"ModifiedBy",type:"Edm.String",maxLength:"Max",fixedLength:"false",unicode:"true"}],navigationProperty:[{name:"Customer",relationship:"Self.SurveyCustomerLocationViewModel_Customer",fromRole:"SurveyCustomerLocationViewModel_Customer_Source",toRole:"SurveyCustomerLocationViewModel_Customer_Target"},{name:"Location",relationship:"Self.SurveyCustomerLocationViewModel_Location",fromRole:"SurveyCustomerLocationViewModel_Location_Source",toRole:"SurveyCustomerLocationViewModel_Location_Target"},{name:"Survey",relationship:"Self.SurveyCustomerLocationViewModel_Survey",fromRole:"SurveyCustomerLocationViewModel_Survey_Source",toRole:"SurveyCustomerLocationViewModel_Survey_Target"}]},{name:"LocationViewModel","customannotation:ClrType":"Merchandiser.Models.LocationViewModel, Merchandiser, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null",key:{propertyRef:{name:"Id"}},property:[{name:"Id",type:"Edm.Guid",nullable:"false"},{name:"CompanyId",type:"Edm.Guid",nullable:"false"},{name:"Name",type:"Edm.String",maxLength:"Max",fixedLength:"false",unicode:"true"},{name:"Store",type:"Edm.String",maxLength:"Max",fixedLength:"false",unicode:"true"},{name:"Latitude",type:"Edm.Decimal",precision:"18",scale:"2",nullable:"false"},{name:"Longitude",type:"Edm.Decimal",precision:"18",scale:"2",nullable:"false"},{name:"Address",type:"Edm.String",maxLength:"Max",fixedLength:"false",unicode:"true"},{name:"AreaManager",type:"Edm.String",maxLength:"Max",fixedLength:"false",unicode:"true"},{name:"Created",type:"Edm.DateTime",nullable:"false"},{name:"CreatedBy",type:"Edm.String",maxLength:"Max",fixedLength:"false",unicode:"true"},{name:"ModifiedBy",type:"Edm.String",maxLength:"Max",fixedLength:"false",unicode:"true"}]},{name:"SurveyViewModel","customannotation:ClrType":"Merchandiser.Models.SurveyViewModel, Merchandiser, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null",key:{propertyRef:{name:"Id"}},property:[{name:"Id",type:"Edm.Guid",nullable:"false"},{name:"CompanyId",type:"Edm.Guid",nullable:"false"},{name:"Name",type:"Edm.String",maxLength:"Max",fixedLength:"false",unicode:"true"},{name:"Modifed",type:"Edm.DateTime",nullable:"false"},{name:"Created",type:"Edm.DateTime",nullable:"false"},{name:"CreatedBy",type:"Edm.String",maxLength:"Max",fixedLength:"false",unicode:"true"},{name:"ModifiedBy",type:"Edm.String",maxLength:"Max",fixedLength:"false",unicode:"true"}]},{name:"SurveyProductQuestionViewModel","customannotation:ClrType":"Merchandiser.Models.SurveyProductQuestionViewModel, Merchandiser, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null",key:{propertyRef:{name:"Id"}},property:[{name:"Id",type:"Edm.Guid",nullable:"false"},{name:"CompanyId",type:"Edm.Guid",nullable:"false"},{name:"SurveyId",type:"Edm.Guid",nullable:"false"},{name:"ProductId",type:"Edm.Guid",nullable:"false"},{name:"QuestionId",type:"Edm.Guid",nullable:"false"},{name:"Name",type:"Edm.String",maxLength:"Max",fixedLength:"false",unicode:"true"},{name:"Modifed",type:"Edm.DateTime",nullable:"false"},{name:"Created",type:"Edm.DateTime",nullable:"false"},{name:"CreatedBy",type:"Edm.String",maxLength:"Max",fixedLength:"false",unicode:"true"},{name:"ModifiedBy",type:"Edm.String",maxLength:"Max",fixedLength:"false",unicode:"true"}],navigationProperty:[{name:"Product",relationship:"Self.SurveyProductQuestionViewModel_Product",fromRole:"SurveyProductQuestionViewModel_Product_Source",toRole:"SurveyProductQuestionViewModel_Product_Target"},{name:"Question",relationship:"Self.SurveyProductQuestionViewModel_Question",fromRole:"SurveyProductQuestionViewModel_Question_Source",toRole:"SurveyProductQuestionViewModel_Question_Target"}]},{name:"ProductViewModel","customannotation:ClrType":"Merchandiser.Models.ProductViewModel, Merchandiser, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null",key:{propertyRef:{name:"Id"}},property:[{name:"Id",type:"Edm.Guid",nullable:"false"},{name:"CompanyId",type:"Edm.Guid",nullable:"false"},{name:"Name",type:"Edm.String",maxLength:"Max",fixedLength:"false",unicode:"true"},{name:"Created",type:"Edm.DateTime",nullable:"false"},{name:"CreatedBy",type:"Edm.String",maxLength:"Max",fixedLength:"false",unicode:"true"},{name:"ModifiedBy",type:"Edm.String",maxLength:"Max",fixedLength:"false",unicode:"true"}]},{name:"QuestionViewModel","customannotation:ClrType":"Merchandiser.Models.QuestionViewModel, Merchandiser, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null",key:{propertyRef:{name:"Id"}},property:[{name:"Id",type:"Edm.Guid",nullable:"false"},{name:"CompanyId",type:"Edm.Guid",nullable:"false"},{name:"Name",type:"Edm.String",maxLength:"Max",fixedLength:"false",unicode:"true"},{name:"Created",type:"Edm.DateTime",nullable:"false"},{name:"CreatedBy",type:"Edm.String",maxLength:"Max",fixedLength:"false",unicode:"true"},{name:"ModifiedBy",type:"Edm.String",maxLength:"Max",fixedLength:"false",unicode:"true"}]},{name:"UserRoleViewModel","customannotation:ClrType":"Merchandiser.Models.UserRoleViewModel, Merchandiser, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null",key:{propertyRef:{name:"Id"}},property:[{name:"Id",type:"Edm.Guid",nullable:"false"},{name:"UserId",type:"Edm.String",maxLength:"128",fixedLength:"false",unicode:"true"},{name:"RoleId",type:"Edm.String",maxLength:"128",fixedLength:"false",unicode:"true"},{name:"CompanyId",type:"Edm.Guid",nullable:"false"},{name:"CustomerId",type:"Edm.Guid"}],navigationProperty:[{name:"Company",relationship:"Self.UserRoleViewModel_Company",fromRole:"UserRoleViewModel_Company_Source",toRole:"UserRoleViewModel_Company_Target"},{name:"Customer",relationship:"Self.UserRoleViewModel_Customer",fromRole:"UserRoleViewModel_Customer_Source",toRole:"UserRoleViewModel_Customer_Target"},{name:"Role",relationship:"Self.UserRoleViewModel_Role",fromRole:"UserRoleViewModel_Role_Source",toRole:"UserRoleViewModel_Role_Target"},{name:"User",relationship:"Self.UserRoleViewModel_User",fromRole:"UserRoleViewModel_User_Source",toRole:"UserRoleViewModel_User_Target"}]},{name:"UserViewModel","customannotation:ClrType":"Merchandiser.Models.UserViewModel, Merchandiser, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null",key:{propertyRef:{name:"Id"}},property:[{name:"Id",type:"Edm.String",maxLength:"128",fixedLength:"false",unicode:"true",nullable:"false"},{name:"UserName",type:"Edm.String",maxLength:"Max",fixedLength:"false",unicode:"true"}]}],association:[{name:"SurveyCustomerLocationViewModel_Customer",end:[{role:"SurveyCustomerLocationViewModel_Customer_Source",type:"Edm.Self.SurveyCustomerLocationViewModel",multiplicity:"*"},{role:"SurveyCustomerLocationViewModel_Customer_Target",type:"Edm.Self.CustomerViewModel",multiplicity:"1",onDelete:{action:"Cascade"}}],referentialConstraint:{principal:{role:"SurveyCustomerLocationViewModel_Customer_Target",propertyRef:{name:"Id"}},dependent:{role:"SurveyCustomerLocationViewModel_Customer_Source",propertyRef:{name:"CustomerId"}}}},{name:"SurveyCustomerLocationViewModel_Location",end:[{role:"SurveyCustomerLocationViewModel_Location_Source",type:"Edm.Self.SurveyCustomerLocationViewModel",multiplicity:"*"},{role:"SurveyCustomerLocationViewModel_Location_Target",type:"Edm.Self.LocationViewModel",multiplicity:"1",onDelete:{action:"Cascade"}}],referentialConstraint:{principal:{role:"SurveyCustomerLocationViewModel_Location_Target",propertyRef:{name:"Id"}},dependent:{role:"SurveyCustomerLocationViewModel_Location_Source",propertyRef:{name:"LocationId"}}}},{name:"SurveyCustomerLocationViewModel_Survey",end:[{role:"SurveyCustomerLocationViewModel_Survey_Source",type:"Edm.Self.SurveyCustomerLocationViewModel",multiplicity:"*"},{role:"SurveyCustomerLocationViewModel_Survey_Target",type:"Edm.Self.SurveyViewModel",multiplicity:"1",onDelete:{action:"Cascade"}}],referentialConstraint:{principal:{role:"SurveyCustomerLocationViewModel_Survey_Target",propertyRef:{name:"Id"}},dependent:{role:"SurveyCustomerLocationViewModel_Survey_Source",propertyRef:{name:"SurveyId"}}}},{name:"SurveyProductQuestionViewModel_Product",end:[{role:"SurveyProductQuestionViewModel_Product_Source",type:"Edm.Self.SurveyProductQuestionViewModel",multiplicity:"*"},{role:"SurveyProductQuestionViewModel_Product_Target",type:"Edm.Self.ProductViewModel",multiplicity:"1",onDelete:{action:"Cascade"}}],referentialConstraint:{principal:{role:"SurveyProductQuestionViewModel_Product_Target",propertyRef:{name:"Id"}},dependent:{role:"SurveyProductQuestionViewModel_Product_Source",propertyRef:{name:"ProductId"}}}},{name:"SurveyProductQuestionViewModel_Question",end:[{role:"SurveyProductQuestionViewModel_Question_Source",type:"Edm.Self.SurveyProductQuestionViewModel",multiplicity:"*"},{role:"SurveyProductQuestionViewModel_Question_Target",type:"Edm.Self.QuestionViewModel",multiplicity:"1",onDelete:{action:"Cascade"}}],referentialConstraint:{principal:{role:"SurveyProductQuestionViewModel_Question_Target",propertyRef:{name:"Id"}},dependent:{role:"SurveyProductQuestionViewModel_Question_Source",propertyRef:{name:"QuestionId"}}}},{name:"UserRoleViewModel_Company",end:[{role:"UserRoleViewModel_Company_Source",type:"Edm.Self.UserRoleViewModel",multiplicity:"*"},{role:"UserRoleViewModel_Company_Target",type:"Edm.Self.CompanyViewModel",multiplicity:"1",onDelete:{action:"Cascade"}}],referentialConstraint:{principal:{role:"UserRoleViewModel_Company_Target",propertyRef:{name:"Id"}},dependent:{role:"UserRoleViewModel_Company_Source",propertyRef:{name:"CompanyId"}}}},{name:"UserRoleViewModel_Customer",end:[{role:"UserRoleViewModel_Customer_Source",type:"Edm.Self.UserRoleViewModel",multiplicity:"*"},{role:"UserRoleViewModel_Customer_Target",type:"Edm.Self.CustomerViewModel",multiplicity:"0..1"}],referentialConstraint:{principal:{role:"UserRoleViewModel_Customer_Target",propertyRef:{name:"Id"}},dependent:{role:"UserRoleViewModel_Customer_Source",propertyRef:{name:"CustomerId"}}}},{name:"UserRoleViewModel_Role",end:[{role:"UserRoleViewModel_Role_Source",type:"Edm.Self.UserRoleViewModel",multiplicity:"*"},{role:"UserRoleViewModel_Role_Target",type:"Edm.Self.RoleViewModel",multiplicity:"0..1"}],referentialConstraint:{principal:{role:"UserRoleViewModel_Role_Target",propertyRef:{name:"Id"}},dependent:{role:"UserRoleViewModel_Role_Source",propertyRef:{name:"RoleId"}}}},{name:"UserRoleViewModel_User",end:[{role:"UserRoleViewModel_User_Source",type:"Edm.Self.UserRoleViewModel",multiplicity:"*"},{role:"UserRoleViewModel_User_Target",type:"Edm.Self.UserViewModel",multiplicity:"0..1"}],referentialConstraint:{principal:{role:"UserRoleViewModel_User_Target",propertyRef:{name:"Id"}},dependent:{role:"UserRoleViewModel_User_Source",propertyRef:{name:"UserId"}}}}],entityContainer:{name:"DatabaseContext","customannotation:UseClrTypes":"true",entitySet:[{name:"CompanyViewModel",entityType:"Self.CompanyViewModel"},{name:"CustomerViewModel",entityType:"Self.CustomerViewModel"},{name:"MapViewModel",entityType:"Self.MapViewModel"},{name:"RoleViewModel",entityType:"Self.RoleViewModel"},{name:"SurveyCustomerLocationViewModel",entityType:"Self.SurveyCustomerLocationViewModel"},{name:"LocationViewModels",entityType:"Self.LocationViewModel"},{name:"SurveyViewModels",entityType:"Self.SurveyViewModel"},{name:"SurveyProductQuestionViewModel",entityType:"Self.SurveyProductQuestionViewModel"},{name:"ProductViewModels",entityType:"Self.ProductViewModel"},{name:"QuestionViewModels",entityType:"Self.QuestionViewModel"},{name:"UserRoleViewModel",entityType:"Self.UserRoleViewModel"},{name:"UserViewModels",entityType:"Self.UserViewModel"}],associationSet:[{name:"SurveyCustomerLocationViewModel_Customer",association:"Self.SurveyCustomerLocationViewModel_Customer",end:[{role:"SurveyCustomerLocationViewModel_Customer_Source",entitySet:"SurveyCustomerLocationViewModel"},{role:"SurveyCustomerLocationViewModel_Customer_Target",entitySet:"CustomerViewModel"}]},{name:"SurveyCustomerLocationViewModel_Location",association:"Self.SurveyCustomerLocationViewModel_Location",end:[{role:"SurveyCustomerLocationViewModel_Location_Source",entitySet:"SurveyCustomerLocationViewModel"},{role:"SurveyCustomerLocationViewModel_Location_Target",entitySet:"LocationViewModels"}]},{name:"SurveyCustomerLocationViewModel_Survey",association:"Self.SurveyCustomerLocationViewModel_Survey",end:[{role:"SurveyCustomerLocationViewModel_Survey_Source",entitySet:"SurveyCustomerLocationViewModel"},{role:"SurveyCustomerLocationViewModel_Survey_Target",entitySet:"SurveyViewModels"}]},{name:"SurveyProductQuestionViewModel_Product",association:"Self.SurveyProductQuestionViewModel_Product",end:[{role:"SurveyProductQuestionViewModel_Product_Source",entitySet:"SurveyProductQuestionViewModel"},{role:"SurveyProductQuestionViewModel_Product_Target",entitySet:"ProductViewModels"}]},{name:"SurveyProductQuestionViewModel_Question",association:"Self.SurveyProductQuestionViewModel_Question",end:[{role:"SurveyProductQuestionViewModel_Question_Source",entitySet:"SurveyProductQuestionViewModel"},{role:"SurveyProductQuestionViewModel_Question_Target",entitySet:"QuestionViewModels"}]},{name:"UserRoleViewModel_Company",association:"Self.UserRoleViewModel_Company",end:[{role:"UserRoleViewModel_Company_Source",entitySet:"UserRoleViewModel"},{role:"UserRoleViewModel_Company_Target",entitySet:"CompanyViewModel"}]},{name:"UserRoleViewModel_Customer",association:"Self.UserRoleViewModel_Customer",end:[{role:"UserRoleViewModel_Customer_Source",entitySet:"UserRoleViewModel"},{role:"UserRoleViewModel_Customer_Target",entitySet:"CustomerViewModel"}]},{name:"UserRoleViewModel_Role",association:"Self.UserRoleViewModel_Role",end:[{role:"UserRoleViewModel_Role_Source",entitySet:"UserRoleViewModel"},{role:"UserRoleViewModel_Role_Target",entitySet:"RoleViewModel"}]},{name:"UserRoleViewModel_User",association:"Self.UserRoleViewModel_User",end:[{role:"UserRoleViewModel_User_Source",entitySet:"UserRoleViewModel"},{role:"UserRoleViewModel_User_Target",entitySet:"UserViewModels"}]}]}}}),function(){"use strict";angular.module("DatabaseServices").service("CompanyUserService",["$http","$q","breeze","breezeservice",function(e,t,r,n){var o=this;this.deferredRequest=null,this.Search=function(e,i,a,u){u=u||!1,null!==this.deferredRequest&&u&&(this.deferredRequest.reject("Cancelled Search Request."),this.deferredRequest=null);var d=t.defer(),l=r.EntityQuery.from("CompanyUserApi/Search");return null!=e&&(l=l.where(e)),l=l.skip(i*a).take(a),n.executeQuery(l).then(function(e){d.resolve(e.httpResponse.data),o.deferredRequest=null},function(e,t){d.reject(e),o.deferredRequest=null}),this.deferredRequest=d,d.promise},this.Get=function(r){var n=t.defer();return e({method:"Get",url:"/breeze/CompanyUserApi/Get/"+r}).success(function(e,t,r,o){n.resolve(e)}).error(function(e,t){n.reject(e)}),n.promise},this.Create=function(r){var n=t.defer();return e.post("/breeze/CompanyUserApi/Create",r).then(function(e){n.resolve(e)},function(e){e.statusText.length>0?n.reject(e.statusText):n.reject("Failed to create the record.")}),n.promise},this.Update=function(r,n){var o=t.defer();return e.put("/breeze/CompanyUserApi/Update/"+r,n).then(function(e){o.resolve(e)},function(e){e.statusText.length>0?o.reject(e):o.reject("Failed to update the record.")}),o.promise},this.Delete=function(r){var n=t.defer();return e.delete("/breeze/CompanyUserApi/Delete/"+r).then(function(e){n.resolve(e)},function(e){e.statusText.length>0?n.reject(e):n.reject("Failed to delete the record.")}),n.promise}}])}(),function(){"use strict";angular.module("DatabaseServices").service("CustomerService",["$http","$q","breeze","breezeservice","SelectionApplicationService",function(e,t,r,n,o){var i=this;this.deferredRequest=null,this.Search=function(e,a,u,d,l){l=l||!1,null!==this.deferredRequest&&l&&(this.deferredRequest.reject("Cancelled Search Request."),this.deferredRequest=null);var c=t.defer(),s=new r.EntityQuery({from:"CustomerApi/Search",where:e,orderBy:a,skip:u*d,take:d,parameters:{companyId:o.GetCompanyId()}});return n.executeQuery(s).then(function(e){c.resolve(e.httpResponse.data),i.deferredRequest=null},function(e,t){c.reject(e),i.deferredRequest=null}),this.deferredRequest=c,c.promise},this.Get=function(r){var n=t.defer();return e({method:"Get",url:"/breeze/CustomerApi/Get/"+r}).success(function(e,t,r,o){n.resolve(e)}).error(function(e,t){n.reject(e)}),n.promise},this.Create=function(r){var n=t.defer();return e.post("/breeze/CustomerApi/Create",r).then(function(e){n.resolve(e)},function(e){e.statusText.length>0?n.reject(e.statusText):n.reject("Failed to create the record.")}),n.promise},this.Update=function(r,n){var o=t.defer();return e.put("/breeze/CustomerApi/Update/"+r,n).then(function(e){o.resolve(e)},function(e){e.statusText.length>0?o.reject(e):o.reject("Failed to update the record.")}),o.promise},this.Delete=function(r){var n=t.defer();return e.delete("/breeze/CustomerApi/Delete/"+r).then(function(e){n.resolve(e)},function(e){e.statusText.length>0?n.reject(e):n.reject("Failed to delete the record.")}),n.promise}}])}(),function(){"use strict";angular.module("DatabaseServices").service("ImageService",["$http","$q","breeze","breezeservice",function(e,t,r,n){this.deferredRequest=null,this.GetBeforeImage=function(r){var n=t.defer();return e({method:"Get",url:"/api/v1/ImageApi/GetBeforeImage/"+r}).success(function(e,t,r,o){n.resolve(e)}).error(function(e,t){n.reject(e)}),n.promise},this.GetAfterImage=function(r){var n=t.defer();return e({method:"Get",url:"/api/v1/ImageApi/GetBeforeImage/"+r}).success(function(e,t,r,o){n.resolve(e)}).error(function(e,t){n.reject(e)}),n.promise},this.CreateBeforeImage=function(r,n){var o=t.defer();return void 0!=r&&null!=r?e.post("/api/v1/ImageApi/CreateBeforeImage/"+n,r).then(function(e){o.resolve(e)},function(e){e.statusText.length>0?o.reject(e.statusText):o.reject("Failed to create the record.")}):o.resolve(),o.promise},this.CreateAfterImage=function(r,n){var o=t.defer();return void 0!=r&&null!=r?e.post("/api/v1/ImageApi/CreateAfterImage/"+n,r).then(function(e){o.resolve(e)},function(e){e.statusText.length>0?o.reject(e.statusText):o.reject("Failed to create the record.")}):o.resolve(),o.promise},this.DeleteBeforeImage=function(r){var n=t.defer();return e.delete("/api/v1/ImageApi/DeleteBeforeImage/"+r).then(function(e){n.resolve(e)},function(e){e.statusText.length>0?n.reject(e):n.reject("Failed to delete the record.")}),n.promise},this.DeleteAfterImage=function(r){var n=t.defer();return e.delete("/api/v1/ImageApi/DeleteAfterImage/"+r).then(function(e){n.resolve(e)},function(e){e.statusText.length>0?n.reject(e):n.reject("Failed to delete the record.")}),n.promise}}])}(),function(){"use strict";angular.module("DatabaseServices").service("LocationService",["$http","$q","breeze","breezeservice","SelectionApplicationService",function(e,t,r,n,o){var i=this;this.deferredRequest=null,this.Search=function(e,a,u,d,l){l=l||!1,null!==this.deferredRequest&&l&&(this.deferredRequest.reject("Cancelled Search Request."),this.deferredRequest=null);var c=t.defer(),s=new r.EntityQuery({from:"LocationApi/Search",where:e,orderBy:a,skip:u*d,take:d,parameters:{companyId:o.GetCompanyId()}});return n.executeQuery(s).then(function(e){c.resolve(e.httpResponse.data),i.deferredRequest=null},function(e,t){c.reject(e),i.deferredRequest=null}),this.deferredRequest=c,c.promise},this.Get=function(r){var n=t.defer();return e({method:"Get",url:"/breeze/LocationApi/Get/"+r}).success(function(e,t,r,o){n.resolve(e)}).error(function(e,t){n.reject(e)}),n.promise},this.Create=function(r){var n=t.defer();return e.post("/breeze/LocationApi/Create",r).then(function(e){n.resolve(e)},function(e){e.statusText.length>0?n.reject(e.statusText):n.reject("Failed to create the record.")}),n.promise},this.Update=function(r,n){var o=t.defer();return e.put("/breeze/LocationApi/Update/"+r,n).then(function(e){o.resolve(e)},function(e){e.statusText.length>0?o.reject(e):o.reject("Failed to update the record.")}),o.promise},this.Delete=function(r){var n=t.defer();return e.delete("/breeze/LocationApi/Delete/"+r).then(function(e){n.resolve(e)},function(e){e.statusText.length>0?n.reject(e):n.reject("Failed to delete the record.")}),n.promise}}])}(),function(){"use strict";angular.module("DatabaseServices").service("MapService",["$http","$q","breeze","breezeservice","SelectionApplicationService",function(e,t,r,n,o){var i=this;this.deferredRequest=null,this.Search=function(e,a,u,d,l){l=l||!1,null!==this.deferredRequest&&l&&(this.deferredRequest.reject("Cancelled Search Request."),this.deferredRequest=null);var c=t.defer(),s=new r.EntityQuery({from:"MapApi/Search/",where:e,orderBy:a,skip:u*d,take:d,parameters:{companyId:o.GetCompanyId()}});return n.executeQuery(s).then(function(e){c.resolve(e.httpResponse.data),i.deferredRequest=null},function(e,t){c.reject(e),i.deferredRequest=null}),this.deferredRequest=c,c.promise}}])}(),function(){"use strict";angular.module("DatabaseServices").service("ProductService",["$http","$q","breeze","breezeservice","SelectionApplicationService",function(e,t,r,n,o){var i=this;this.deferredRequest=null,this.Search=function(e,a,u,d,l){l=l||!1,null!==this.deferredRequest&&l&&(this.deferredRequest.reject("Cancelled Search Request."),this.deferredRequest=null);var c=t.defer(),s=new r.EntityQuery({from:"ProductApi/Search",where:e,orderBy:a,skip:u*d,take:d,parameters:{companyId:o.GetCompanyId()}});return n.executeQuery(s).then(function(e){c.resolve(e.httpResponse.data),i.deferredRequest=null},function(e,t){c.reject(e),i.deferredRequest=null}),this.deferredRequest=c,c.promise},this.Get=function(r){var n=t.defer();return e({method:"Get",url:"/breeze/ProductApi/Get/"+r}).success(function(e,t,r,o){n.resolve(e)}).error(function(e,t){n.reject(e)}),n.promise},this.Create=function(r){var n=t.defer();return e.post("/breeze/ProductApi/Create",r).then(function(e){n.resolve(e)},function(e){e.statusText.length>0?n.reject(e.statusText):n.reject("Failed to create the record.")}),n.promise},this.Update=function(r,n){var o=t.defer();return e.put("/breeze/ProductApi/Update/"+r,n).then(function(e){o.resolve(e)},function(e){e.statusText.length>0?o.reject(e):o.reject("Failed to update the record.")}),o.promise},this.Delete=function(r){var n=t.defer();return e.delete("/breeze/ProductApi/Delete/"+r).then(function(e){n.resolve(e)},function(e){e.statusText.length>0?n.reject(e):n.reject("Failed to delete the record.")}),n.promise}}])}(),function(){"use strict";angular.module("DatabaseServices").service("ReportService",["$http","$q","breeze","breezeservice",function(e,t,r,n){this.deferredRequest=null,this.Search=function(r,n,o,i,a,u,d,l,c){var s=t.defer();return e({method:"Get",url:"/api/v1/ReportApi/Search/"+r+"/"+n+"/"+o+"/"+i+"/"+a+"/"+u+"/"+d+"/"+l+"/"+c+"/"}).success(function(e,t,r,n){s.resolve(e)}).error(function(e,t){s.reject(e)}),s.promise}}])}(),function(){"use strict";angular.module("DatabaseServices").service("RoleService",["$http","$q","breeze","breezeservice",function(e,t,r,n){
var o=this;this.deferredRequest=null,this.Search=function(e,i,a,u){u=u||!1,null!==this.deferredRequest&&u&&(this.deferredRequest.reject("Cancelled Search Request."),this.deferredRequest=null);var d=t.defer(),l=r.EntityQuery.from("RoleApi/Search");return null!=e&&(l=l.where(e)),l=l.skip(i*a).take(a),n.executeQuery(l).then(function(e){d.resolve(e.httpResponse.data),o.deferredRequest=null},function(e,t){d.reject(e),o.deferredRequest=null}),this.deferredRequest=d,d.promise},this.SearchJson=function(e,i,a,u){u=u||!1,null!==this.deferredRequest&&u&&(this.deferredRequest.reject("Cancelled Search Request."),this.deferredRequest=null);var d=t.defer(),l=new r.EntityQuery({from:"RoleApi/Search",where:e,skip:i*a,take:a});return n.executeQuery(l).then(function(e){d.resolve(e.httpResponse.data),o.deferredRequest=null},function(e,t){d.reject(e),o.deferredRequest=null}),this.deferredRequest=d,d.promise}}])}(),function(){"use strict";angular.module("DatabaseServices").service("QuestionService",["$http","$q","breeze","breezeservice","SelectionApplicationService",function(e,t,r,n,o){var i=this;this.deferredRequest=null,this.Search=function(e,a,u,d,l){l=l||!1,null!==this.deferredRequest&&l&&(this.deferredRequest.reject("Cancelled Search Request."),this.deferredRequest=null);var c=t.defer(),s=new r.EntityQuery({from:"QuestionApi/Search",where:e,orderBy:a,skip:u*d,take:d,parameters:{companyId:o.GetCompanyId()}});return n.executeQuery(s).then(function(e){c.resolve(e.httpResponse.data),i.deferredRequest=null},function(e,t){c.reject(e),i.deferredRequest=null}),this.deferredRequest=c,c.promise},this.Get=function(r){var n=t.defer();return e({method:"Get",url:"/breeze/QuestionApi/Get/"+r}).success(function(e,t,r,o){n.resolve(e)}).error(function(e,t){n.reject(e)}),n.promise},this.Create=function(r){var n=t.defer();return e.post("/breeze/QuestionApi/Create",r).then(function(e){n.resolve(e)},function(e){e.statusText.length>0?n.reject(e.statusText):n.reject("Failed to create the record.")}),n.promise},this.Update=function(r,n){var o=t.defer();return e.put("/breeze/QuestionApi/Update/"+r,n).then(function(e){o.resolve(e)},function(e){e.statusText.length>0?o.reject(e):o.reject("Failed to update the record.")}),o.promise},this.Delete=function(r){var n=t.defer();return e.delete("/breeze/QuestionApi/Delete/"+r).then(function(e){n.resolve(e)},function(e){e.statusText.length>0?n.reject(e):n.reject("Failed to delete the record.")}),n.promise}}])}(),function(){"use strict";angular.module("DatabaseServices").service("SurveyService",["$http","$q","breeze","breezeservice","SelectionApplicationService",function(e,t,r,n,o){var i=this;this.deferredRequest=null,this.Search=function(e,a,u,d,l){l=l||!1,null!==this.deferredRequest&&l&&(this.deferredRequest.reject("Cancelled Search Request."),this.deferredRequest=null);var c=t.defer(),s=new r.EntityQuery({from:"SurveyApi/Search",where:e,orderBy:a,skip:u*d,take:d,parameters:{companyId:o.GetCompanyId()}});return n.executeQuery(s).then(function(e){c.resolve(e.httpResponse.data),i.deferredRequest=null},function(e,t){c.reject(e),i.deferredRequest=null}),this.deferredRequest=c,c.promise},this.Get=function(r){var n=t.defer();return e({method:"Get",url:"/breeze/SurveyApi/Get/"+r}).success(function(e,t,r,o){n.resolve(e)}).error(function(e,t){n.reject(e)}),n.promise},this.Create=function(r){var n=t.defer();return e.post("/breeze/SurveyApi/Create",r).then(function(e){n.resolve(e)},function(e){e.statusText.length>0?n.reject(e.statusText):n.reject("Failed to create the record.")}),n.promise},this.Update=function(r,n){var o=t.defer();return e.put("/breeze/SurveyApi/Update/"+r,n).then(function(e){o.resolve(e)},function(e){e.statusText.length>0?o.reject(e):o.reject("Failed to update the record.")}),o.promise},this.Delete=function(r){var n=t.defer();return e.delete("/breeze/SurveyApi/Delete/"+r).then(function(e){n.resolve(e)},function(e){e.statusText.length>0?n.reject(e):n.reject("Failed to delete the record.")}),n.promise}}])}(),function(){"use strict";angular.module("DatabaseServices").service("SurveyCustomerLocationService",["$http","$q","breeze","breezeservice",function(e,t,r,n){var o=this;this.deferredRequest=null,this.Search=function(e,i,a,u,d){d=d||!1,null!==this.deferredRequest&&d&&(this.deferredRequest.reject("Cancelled Search Request."),this.deferredRequest=null);var l=t.defer(),c=new r.EntityQuery({from:"SurveyCustomerLocationApi/Search",where:e,orderBy:i,skip:a*u,take:u});return n.executeQuery(c).then(function(e){l.resolve(e.httpResponse.data),o.deferredRequest=null},function(e,t){l.reject(e),o.deferredRequest=null}),this.deferredRequest=l,l.promise},this.Get=function(r){var n=t.defer();return e({method:"Get",url:"/breeze/SurveyCustomerLocationApi/Get/"+r}).success(function(e,t,r,o){n.resolve(e)}).error(function(e,t){n.reject(e)}),n.promise},this.Create=function(r){var n=t.defer();return e.post("/breeze/SurveyCustomerLocationApi/Create",r).then(function(e){n.resolve(e)},function(e){e.statusText.length>0?n.reject(e.statusText):n.reject("Failed to create the record.")}),n.promise},this.Update=function(r,n){var o=t.defer();return e.put("/breeze/SurveyCustomerLocationApi/Update/"+r,n).then(function(e){o.resolve(e)},function(e){e.statusText.length>0?o.reject(e):o.reject("Failed to update the record.")}),o.promise},this.Delete=function(r){var n=t.defer();return e.delete("/breeze/SurveyCustomerLocationApi/Delete/"+r).then(function(e){n.resolve(e)},function(e){e.statusText.length>0?n.reject(e):n.reject("Failed to delete the record.")}),n.promise}}])}(),function(){"use strict";angular.module("DatabaseServices").service("SurveyDetailService",["$http","$q","breeze","breezeservice","SelectionApplicationService",function(e,t,r,n,o){var i=this;this.deferredRequest=null,this.Search=function(e,a,u,d,l){l=l||!1,null!==this.deferredRequest&&l&&(this.deferredRequest.reject("Cancelled Search Request."),this.deferredRequest=null);var c=t.defer(),s=new r.EntityQuery({from:"SurveyDetailApi/Search",where:e,orderBy:a,skip:u*d,take:d,parameters:{companyId:o.GetCompanyId()}});return n.executeQuery(s).then(function(e){c.resolve(e.httpResponse.data),i.deferredRequest=null},function(e,t){c.reject(e),i.deferredRequest=null}),this.deferredRequest=c,c.promise},this.Get=function(r){var n=t.defer();return e({method:"Get",url:"/breeze/SurveyDetailApi/Get/"+r}).success(function(e,t,r,o){n.resolve(e)}).error(function(e,t){n.reject(e)}),n.promise},this.Create=function(r){var n=t.defer();return e.post("/breeze/SurveyDetailApi/Create",r).then(function(e){n.resolve(e)},function(e){e.statusText.length>0?n.reject(e.statusText):n.reject("Failed to create the record.")}),n.promise},this.Update=function(r,n){var o=t.defer();return e.put("/breeze/SurveyDetailApi/Update/"+r,n).then(function(e){o.resolve(e)},function(e){e.statusText.length>0?o.reject(e):o.reject("Failed to update the record.")}),o.promise},this.Delete=function(r){var n=t.defer();return e.delete("/breeze/SurveyDetailApi/Delete/"+r).then(function(e){n.resolve(e)},function(e){e.statusText.length>0?n.reject(e):n.reject("Failed to delete the record.")}),n.promise}}])}(),function(){"use strict";angular.module("DatabaseServices").service("SurveyHeaderService",["$http","$q","breeze","breezeservice","SelectionApplicationService",function(e,t,r,n,o){var i=this;this.deferredRequest=null,this.Search=function(e,a,u,d,l){l=l||!1,null!==this.deferredRequest&&l&&(this.deferredRequest.reject("Cancelled Search Request."),this.deferredRequest=null);var c=t.defer(),s=new r.EntityQuery({from:"SurveyHeaderApi/Search",where:e,orderBy:a,skip:u*d,take:d,parameters:{companyId:o.GetCompanyId()}});return n.executeQuery(s).then(function(e){c.resolve(e.httpResponse.data),i.deferredRequest=null},function(e,t){c.reject(e),i.deferredRequest=null}),this.deferredRequest=c,c.promise},this.Get=function(r){var n=t.defer();return e({method:"Get",url:"/breeze/SurveyHeaderApi/Get/"+r}).success(function(e,t,r,o){n.resolve(e)}).error(function(e,t){n.reject(e)}),n.promise},this.Create=function(r){var n=t.defer();return e.post("/breeze/SurveyHeaderApi/Create",r).then(function(e){n.resolve(e)},function(e){e.statusText.length>0?n.reject(e.statusText):n.reject("Failed to create the record.")}),n.promise},this.CreateBulk=function(r){var n=t.defer();return e.post("/breeze/SurveyHeaderApi/CreateBulk",r).then(function(e){n.resolve(e)},function(e){e.statusText.length>0?n.reject(e.statusText):n.reject("Failed to create the record.")}),n.promise},this.Update=function(r,n){var o=t.defer();return e.put("/breeze/SurveyHeaderApi/Update/"+r,n).then(function(e){o.resolve(e)},function(e){e.statusText.length>0?o.reject(e):o.reject("Failed to update the record.")}),o.promise},this.UpdateBulk=function(r,n){var o=t.defer();return e.put("/breeze/SurveyHeaderApi/UpdateBulk/"+r,n).then(function(e){o.resolve(e)},function(e){e.statusText.length>0?o.reject(e):o.reject("Failed to update the record.")}),o.promise},this.Delete=function(r){var n=t.defer();return e.delete("/breeze/SurveyHeaderApi/Delete/"+r).then(function(e){n.resolve(e)},function(e){e.statusText.length>0?n.reject(e):n.reject("Failed to delete the record.")}),n.promise},this.DeleteBulk=function(r){var n=t.defer();return e.delete("/breeze/SurveyHeaderApi/DeleteBulk/"+r).then(function(e){n.resolve(e)},function(e){e.statusText.length>0?n.reject(e):n.reject("Failed to delete the record.")}),n.promise}}])}(),function(){"use strict";angular.module("DatabaseServices").service("SurveyProductQuestionService",["$http","$q","breeze","breezeservice",function(e,t,r,n){var o=this;this.deferredRequest=null,this.Search=function(e,i,a,u,d){d=d||!1,null!==this.deferredRequest&&d&&(this.deferredRequest.reject("Cancelled Search Request."),this.deferredRequest=null);var l=t.defer(),c=new r.EntityQuery({from:"SurveyProductQuestionApi/Search",where:e,orderBy:i,skip:a*u,take:u});return n.executeQuery(c).then(function(e){l.resolve(e.httpResponse.data),o.deferredRequest=null},function(e,t){l.reject(e),o.deferredRequest=null}),this.deferredRequest=l,l.promise},this.Get=function(r){var n=t.defer();return e({method:"Get",url:"/breeze/SurveyProductQuestionApi/Get/"+r}).success(function(e,t,r,o){n.resolve(e)}).error(function(e,t){n.reject(e)}),n.promise},this.Create=function(r){var n=t.defer();return e.post("/breeze/SurveyProductQuestionApi/Create",r).then(function(e){n.resolve(e)},function(e){e.statusText.length>0?n.reject(e.statusText):n.reject("Failed to create the record.")}),n.promise},this.Update=function(r,n){var o=t.defer();return e.put("/breeze/SurveyProductQuestionApi/Update/"+r,n).then(function(e){o.resolve(e)},function(e){e.statusText.length>0?o.reject(e):o.reject("Failed to update the record.")}),o.promise},this.Delete=function(r){var n=t.defer();return e.delete("/breeze/SurveyProductQuestionApi/Delete/"+r).then(function(e){n.resolve(e)},function(e){e.statusText.length>0?n.reject(e):n.reject("Failed to delete the record.")}),n.promise}}])}(),function(){"use strict";angular.module("DatabaseServices").service("UserRoleService",["$http","$q","breeze","breezeservice",function(e,t,r,n){var o=this;this.deferredRequest=null,this.Search=function(e,i,a,u){u=u||!1,null!==this.deferredRequest&&u&&(this.deferredRequest.reject("Cancelled Search Request."),this.deferredRequest=null);var d=t.defer(),l=r.EntityQuery.from("UserRoleApi/Search");return null!=e&&(l=l.where(e)),l=l.skip(i*a).take(a),n.executeQuery(l).then(function(e){d.resolve(e.httpResponse.data),o.deferredRequest=null},function(e,t){d.reject(e),o.deferredRequest=null}),this.deferredRequest=d,d.promise},this.SearchJson=function(e,i,a,u){u=u||!1,null!==this.deferredRequest&&u&&(this.deferredRequest.reject("Cancelled Search Request."),this.deferredRequest=null);var d=t.defer(),l=new r.EntityQuery({from:"UserRoleApi/Search",where:e,skip:i*a,take:a});return n.executeQuery(l).then(function(e){d.resolve(e.httpResponse.data),o.deferredRequest=null},function(e,t){d.reject(e),o.deferredRequest=null}),this.deferredRequest=d,d.promise},this.Get=function(r){var n=t.defer();return e({method:"Get",url:"/breeze/UserRoleApi/Get/"+r}).success(function(e,t,r,o){n.resolve(e)}).error(function(e,t){n.reject(e)}),n.promise},this.Create=function(r){var n=t.defer();return e.post("/breeze/UserRoleApi/Create",r).then(function(e){n.resolve(e)},function(e){e.statusText.length>0?n.reject(e.statusText):n.reject("Failed to create the record.")}),n.promise},this.Delete=function(r){var n=t.defer();return e.delete("/breeze/UserRoleApi/Delete/"+r).then(function(e){n.resolve(e)},function(e){e.statusText.length>0?n.reject(e):n.reject("Failed to delete the record.")}),n.promise}}])}(),function(){"use strict";angular.module("DatabaseServices").service("UserService",["$http","$q","breeze","breezeservice","RoleService","UserRoleService",function(e,t,r,n,o,i){this.deferredRequest=null,this.GetCurrentUser=function(){var r=t.defer();return e({method:"Get",url:"/api/v1/UserApi/GetCurrentUser/"}).success(function(e,t,n,o){r.resolve(e)}).error(function(e,t){r.reject(e)}),r.promise},this.GetCurrentUsername=function(){var r=t.defer();return e({method:"Get",url:"/api/v1/UserApi/GetCurrentUsername/"}).success(function(e,t,n,o){r.resolve(e)}).error(function(e,t){r.reject(e)}),r.promise},this.IsAdministrator=function(e){var r=t.defer();return this.GetCurrentUser().then(function(t){var n=t,a={Name:{"==":"Administrator"}};o.SearchJson(a,0,1,!1).then(function(t){var o=(t.map(function(e){return e.Id}),{and:[{UserId:{"==":n}},{RoleId:{"==":t[0].Id}},{CompanyId:{"==":e}}]});i.SearchJson(o,0,1,!1).then(function(e){e.length>0?r.resolve(!0):r.resolve(!1)})})}),r.promise},this.IsCustomer=function(e){var r=t.defer();return this.GetCurrentUser().then(function(t){var n=t,a={Name:{"==":"Customer"}};o.SearchJson(a,0,1,!1).then(function(t){var o=(t.map(function(e){return e.Id}),{and:[{UserId:{"==":n}},{RoleId:{"==":t[0].Id}},{CompanyId:{"==":e}}]});i.SearchJson(o,0,1,!1).then(function(e){e.length>0?r.resolve(!0):r.resolve(!1)})})}),r.promise},this.IsDataEntry=function(e){var r=t.defer();return this.GetCurrentUser().then(function(t){var n=t,a={Name:{"==":"Data Entry"}};o.SearchJson(a,0,1,!1).then(function(t){var o=(t.map(function(e){return e.Id}),{and:[{UserId:{"==":n}},{RoleId:{"==":t[0].Id}},{CompanyId:{"==":e}}]});i.SearchJson(o,0,1,!1).then(function(e){e.length>0?r.resolve(!0):r.resolve(!1)})})}),r.promise}}])}();var app=angular.module("Main",["ngRoute","ui.grid","ui.bootstrap","ngAnimate","ngTouch","ui.router","ngMap","ui.grid.exporter","blockUI","breeze.angular","DatabaseServices","ApplicationServices"]);angular.module("Main").config(function(e){e.delay=0}),app.config(function(e,t){t.otherwise("/main/admin/company/addedit/"),e.state("main",{url:"/main",templateUrl:"/App/ApplicationComponents/Main/Views/Main.html"}).state("main.admin",{url:"/admin",templateUrl:"/App/ApplicationComponents/Administrator/Admin/Views/Admin.html"}).state("main.admin.company",{url:"/company",templateUrl:"/App/ApplicationComponents/Administrator/Company/Views/Company.html"}).state("main.admin.company.addedit",{url:"/addedit/:id",templateUrl:"/App/ApplicationComponents/Administrator/Company/Views/CompanyAddEdit.html"}).state("main.admin.customer",{url:"/customer",templateUrl:"/App/ApplicationComponents/Administrator/Customer/Views/Customer.html"}).state("main.admin.customer.addedit",{url:"/addedit/:id",templateUrl:"/App/ApplicationComponents/Administrator/Customer/Views/CustomerAddEdit.html"}).state("main.admin.product",{url:"/product",templateUrl:"/App/ApplicationComponents/Administrator/Product/Views/Product.html"}).state("main.admin.product.addedit",{url:"/addedit/:id",templateUrl:"/App/ApplicationComponents/Administrator/Product/Views/ProductAddEdit.html"}).state("main.admin.location",{url:"/location",templateUrl:"/App/ApplicationComponents/Administrator/Location/Views/Location.html"}).state("main.admin.location.addedit",{url:"/addedit/:id",templateUrl:"/App/ApplicationComponents/Administrator/Location/Views/LocationAddEdit.html"}).state("main.admin.survey",{url:"/survey",templateUrl:"/App/ApplicationComponents/Administrator/Survey/Views/Survey.html"}).state("main.admin.survey.addedit",{url:"/addedit/:id",templateUrl:"/App/ApplicationComponents/Administrator/Survey/Views/SurveyAddEdit.html"}).state("main.admin.userrole",{url:"/userrole",templateUrl:"/App/ApplicationComponents/Administrator/UserRole/Views/UserRole.html"}).state("main.admin.userrole.addedit",{url:"/addedit/:id",templateUrl:"/App/ApplicationComponents/Administrator/UserRole/Views/UserRoleAddEdit.html"}).state("main.admin.question",{url:"/question",templateUrl:"/App/ApplicationComponents/Administrator/Question/Views/Question.html"}).state("main.admin.question.addedit",{url:"/addedit/:id",templateUrl:"/App/ApplicationComponents/Administrator/Question/Views/QuestionAddEdit.html"}).state("main.admin.surveycustomerlocation",{url:"/survey/customerlocation",templateUrl:"/App/ApplicationComponents/Administrator/SurveyCustomerLocation/Views/SurveyCustomerLocation.html"}).state("main.admin.surveycustomerlocation.addedit",{url:"/addedit/:id",templateUrl:"/App/ApplicationComponents/Administrator/SurveyCustomerLocation/Views/SurveyCustomerLocationAddEdit.html"}).state("main.admin.surveyproductquestion",{url:"/survey/productquestion",templateUrl:"/App/ApplicationComponents/Administrator/SurveyProductQuestion/Views/SurveyProductQuestion.html"}).state("main.admin.surveyproductquestion.addedit",{url:"/addedit/:id",templateUrl:"/App/ApplicationComponents/Administrator/SurveyProductQuestion/Views/SurveyProductQuestionAddEdit.html"})}),app.run(function(e,t,r,n,o){r.GetCurrentUser().then(function(t){e.UserId=t;var r={Name:{"==":"Administrator"}};return n.SearchJson(r,0,1,!1)}).then(function(t){e.Role=t;var r={and:[{UserId:{"==":e.UserId}},{RoleId:{"==":t[0].Id}}]};return o.SearchJson(r,0,1,!1)}).then(function(e){if(!(e.length>0)){var r={Name:{"==":"Data Entry"}};return n.SearchJson(r,0,1,!1)}t.go("main.admin.company.addedit")}).then(function(t){var r={and:[{UserId:{"==":e.UserId}},{RoleId:{"==":t[0].Id}}]};return o.SearchJson(r,0,1,!1)}).then(function(e){if(!(e.length>0)){var r={Name:{"==":"Customer"}};return n.SearchJson(r,0,1,!1)}t.go("main.merchandise",{redirectState:"main.survey"})}).then(function(t){var r={and:[{UserId:{"==":e.UserId}},{RoleId:{"==":t[0].Id}}]};return o.SearchJson(r,0,1,!1)}).then(function(e){e.length>0?t.go("main.merchandise",{redirectState:"main.reportmain"}):t.go("main.admin.company.addedit")})}),function(e){"use strict";angular.module("Main").controller("MainController",["$scope","$http","$window","$state","UserService","CompanyApplicationService","SurveyApplicationService","SelectionApplicationService",function(e,t,r,n,o,i,a,u){o.GetCurrentUsername().then(function(t){e.Username=t}),e.GoTo=function(e){u.SetSurveyHeaderId(null),"main.admin.company.addedit"==e?(u.Clear(),n.go(e)):null==u.GetCompanyId()?n.go("main.merchandise",{redirectState:e}):"main.survey"==e?null==u.GetSurveyId()?n.go("main.merchandise",{redirectState:e}):n.go(e):"main.reportmain"==e?n.go("main.merchandise",{redirectState:e}):"main.map"==e&&n.go("main.merchandise",{redirectState:e})},e.Logout=function(){t.post("/Account/LogOff").then(function(e){r.location.reload()})}}])}(moment),function(e){"use strict";angular.module("Main").controller("AdminController",["$scope","$state","CompanyApplicationService","SurveyApplicationService",function(e,t,r,n){e.SelectedCompany=null,r.RegisterObserver(function(){e.SelectedCompany=r.SelectedCompany}),e.SelectedSurvey=null,n.RegisterObserver(function(){e.SelectedSurvey=n.SelectedSurvey}),e.Route=function(e){"main.admin.company.addedit"==e?t.go(e):"main.admin.surveycustomerlocation.addedit"==e||"main.admin.surveyproductquestion.addedit"==e?void 0==n.SelectedSurvey||null==n.SelectedSurvey||""==n.SelectedSurvey?toastr.error("A survey must be selected first."):t.go(e):void 0==r.SelectedCompany||null==r.SelectedCompany||""==r.SelectedCompany?toastr.error("A company must be selected first."):t.go(e)}}])}(moment),function(e){"use strict";angular.module("Main").controller("CompanyAddEditController",["$scope","$state","$stateParams","$routeParams","$http","$location","$timeout","breezeservice","breeze","CompanyService",function(e,t,r,n,o,i,a,u,d,l){e.Init=function(){e.item={Id:null,Name:""}},e.Init(),e.Search=function(){void 0!==r.id&&""!==r.id&&l.Get(r.id).then(function(t){e.item=t})},e.Search(),e.Save=function(){void 0!==e.item.Id&&null!==e.item.Id&&""!==e.item.Id?l.Update(e.item.Id,e.item).then(function(t){e.$parent.Search(),e.Init()},function(e){alert(e)}):l.Create(e.item).then(function(t){e.$parent.Search(),e.Init()},function(e){alert(e)})}}])}(moment),function(e){"use strict";angular.module("Main").controller("CompanyController",["$scope","$state","$routeParams","$http","$location","$timeout","breezeservice","breeze","CompanyService","CompanyApplicationService","UserService","RoleService","UserRoleService","SelectionApplicationService",function(e,t,r,n,o,i,a,u,d,l,c,s,m,p){e.Search=function(){d.AdminSearch(null,["Name desc"],0,20,!1).then(function(t){e.items=t,1==t.length&&e.Select(t[0].Id)})},e.Search(),e.Edit=function(e){t.go("main.admin.company.addedit",{id:e},{reload:!1})},e.Delete=function(t){d.Delete(t).then(function(t){e.Search()})},e.Select=function(e){d.Get(e).then(function(e){l.SetSelectedCompany(e),p.SetCompanyId(e.Id)})}}])}(moment),function(e){"use strict";angular.module("Main").controller("CustomerAddEditController",["$scope","$state","$stateParams","$routeParams","$http","$location","$timeout","breezeservice","breeze","CustomerService","CompanyApplicationService",function(e,t,r,n,o,i,a,u,d,l,c){c.NotifyObservers(),e.Init=function(){e.item={Id:null,Name:""}},e.Init(),e.Search=function(){void 0!==r.id&&""!==r.id&&l.Get(r.id).then(function(t){e.item=t})},e.Search(),e.Save=function(){void 0!==e.item.Id&&null!==e.item.Id&&""!==e.item.Id?l.Update(e.item.Id,e.item).then(function(t){e.$parent.Search(),e.Init()},function(e){alert(e)}):(e.item.CompanyId=c.SelectedCompany.Id,l.Create(e.item).then(function(t){e.$parent.Search(),e.Init()},function(e){alert(e)}))}}])}(moment),function(e){"use strict";angular.module("Main").controller("CustomerController",["$scope","$state","$routeParams","$http","$location","$timeout","breezeservice","breeze","CustomerService","SelectionApplicationService",function(e,t,r,n,o,i,a,u,d,l){e.Search=function(){var t={CompanyId:{"==":l.GetCompanyId()}};d.Search(t,["Name asc"],0,100,!1).then(function(t){e.items=t})},e.Search(),e.Edit=function(e){t.go("main.admin.customer.addedit",{id:e},{reload:!1})},e.Delete=function(t){d.Delete(t).then(function(t){e.Search()})}}])}(moment),function(e){"use strict";angular.module("Main").controller("LocationAddEditController",["$scope","$q","$state","$stateParams","$routeParams","$http","$location","$timeout","breezeservice","breeze","LocationService","CompanyApplicationService","SurveyApplicationService",function(e,t,r,n,o,i,a,u,d,l,c,s,m){s.NotifyObservers(),m.NotifyObservers(),e.Init=function(){e.item={Id:null,Name:"",Latitude:null,Longitude:null}},e.Init(),e.Search=function(){void 0!==n.id&&""!==n.id&&c.Get(n.id).then(function(t){e.item=t})},e.Search(),e.Save=function(){void 0!==e.item.Id&&null!==e.item.Id&&""!==e.item.Id?c.Update(e.item.Id,e.item).then(function(t){e.$parent.Search(),e.Init()},function(e){alert(e)}):(e.item.CompanyId=s.SelectedCompany.Id,c.Create(e.item).then(function(t){e.$parent.Search(),e.Init()},function(e){alert(e)}))},e.ChangeAddress=function(e){var t=JSON.stringify(e);return i.get("http://maps.google.com/maps/api/geocode/json?address="+t+"&sensor=false").then(function(e){return e.data.results})},e.SelectAddress=function(t,r,n){e.item.Latitude=t.geometry.location.lat,e.item.Longitude=t.geometry.location.lng,e.item.Address=t.formatted_address}}])}(moment),function(e){"use strict";angular.module("Main").controller("LocationController",["$scope","$state","$routeParams","$http","$location","$timeout","breezeservice","breeze","LocationService","SelectionApplicationService",function(e,t,r,n,o,i,a,u,d,l){e.Search=function(){var t={CompanyId:{"==":l.GetCompanyId()}};d.Search(t,["Name asc"],0,100,!1).then(function(t){e.items=t})},e.Search(),e.Edit=function(e){t.go("main.admin.location.addedit",{id:e},{reload:!1})},e.Delete=function(t){d.Delete(t).then(function(t){e.Search()})}}])}(moment),function(e){"use strict";angular.module("Main").controller("ProductAddEditController",["$scope","$state","$stateParams","$routeParams","$http","$location","$timeout","breezeservice","breeze","ProductService","CompanyApplicationService",function(e,t,r,n,o,i,a,u,d,l,c){c.NotifyObservers(),e.Init=function(){e.item={Id:null,Name:""}},e.Init(),e.Search=function(){void 0!==r.id&&""!==r.id&&l.Get(r.id).then(function(t){e.item=t})},e.Search(),e.Save=function(){void 0!==e.item.Id&&null!==e.item.Id&&""!==e.item.Id?l.Update(e.item.Id,e.item).then(function(t){e.$parent.Search(),e.Init()},function(e){alert(e)}):(e.item.CompanyId=c.SelectedCompany.Id,l.Create(e.item).then(function(t){e.$parent.Search(),e.Init()},function(e){alert(e)}))}}])}(moment),function(e){"use strict";angular.module("Main").controller("ProductController",["$scope","$state","$routeParams","$http","$location","$timeout","breezeservice","breeze","ProductService","CompanyApplicationService","SelectionApplicationService",function(e,t,r,n,o,i,a,u,d,l,c){e.Search=function(){var t={CompanyId:{"==":c.GetCompanyId()}};d.Search(t,["Name asc"],0,100,!1).then(function(t){e.items=t})},e.Search(),e.Edit=function(e){t.go("main.admin.product.addedit",{id:e},{reload:!1})},e.Delete=function(t){d.Delete(t).then(function(t){e.Search()})}}])}(moment),function(e){"use strict";angular.module("Main").controller("QuestionAddEditController",["$scope","$state","$stateParams","$routeParams","$http","$location","$timeout","breezeservice","breeze","QuestionService","CompanyApplicationService",function(e,t,r,n,o,i,a,u,d,l,c){c.NotifyObservers(),e.Init=function(){e.item={Id:null,Name:""}},e.Search=function(){void 0!==r.id&&""!==r.id&&l.Get(r.id).then(function(t){e.item=t})},e.Search(),e.Save=function(){void 0!==e.item.Id&&null!==e.item.Id&&""!==e.item.Id?l.Update(e.item.Id,e.item).then(function(t){e.$parent.Search(),e.Init()},function(e){alert(e)}):(e.item.CompanyId=c.SelectedCompany.Id,l.Create(e.item).then(function(t){e.$parent.Search(),e.Init()},function(e){alert(e)}))}}])}(moment),function(e){"use strict";angular.module("Main").controller("QuestionController",["$scope","$state","$routeParams","$http","$location","$timeout","breezeservice","breeze","QuestionService","SelectionApplicationService",function(e,t,r,n,o,i,a,u,d,l){e.Search=function(){var t={CompanyId:{"==":l.GetCompanyId()}};d.Search(t,["Name asc"],0,100,!1).then(function(t){e.items=t})},e.Search(),e.Edit=function(e){t.go("main.admin.question.addedit",{id:e},{reload:!1})},e.Delete=function(t){d.Delete(t).then(function(t){e.Search()})}}])}(moment),function(e){"use strict";angular.module("Main").controller("SurveyAddEditController",["$scope","$state","$stateParams","$routeParams","$http","$location","$timeout","breezeservice","breeze","SurveyService","CompanyApplicationService",function(e,t,r,n,o,i,a,u,d,l,c){c.NotifyObservers(),e.Init=function(){e.item={Id:null,Name:""}},e.Search=function(){void 0!==r.id&&""!==r.id&&l.Get(r.id).then(function(t){e.item=t})},e.Search(),e.Save=function(){void 0!==e.item.Id&&null!==e.item.Id&&""!==e.item.Id?l.Update(e.item.Id,e.item).then(function(t){e.$parent.Search(),e.Init()},function(e){alert(e)}):(e.item.CompanyId=c.SelectedCompany.Id,l.Create(e.item).then(function(t){e.$parent.Search(),e.Init()},function(e){alert(e)}))}}])}(moment),function(e){"use strict";angular.module("Main").controller("SurveyController",["$scope","$state","$routeParams","$http","$location","$timeout","breezeservice","breeze","SurveyService","SelectionApplicationService","SurveyApplicationService",function(e,t,r,n,o,i,a,u,d,l,c){e.Search=function(){var t={CompanyId:{"==":l.GetCompanyId()}};d.Search(t,["Name asc"],0,100,!1).then(function(t){e.items=t,1==t.length&&e.Select(t[0].Id)})},e.Search(),e.Edit=function(e){t.go("main.admin.survey.addedit",{id:e},{reload:!1})},e.Delete=function(t){d.Delete(t).then(function(t){e.Search()})},e.Select=function(e){d.Get(e).then(function(e){c.SetSelectedSurvey(e),l.SetSurveyId(e.Id)})}}])}(moment),function(e){"use strict";angular.module("Main").controller("SurveyCustomerLocationAddEditController",["$scope","$state","$stateParams","$routeParams","$http","$location","$timeout","breezeservice","breeze","SurveyCustomerLocationService","CompanyApplicationService","SurveyApplicationService","CustomerService","LocationService","SelectionApplicationService",function(e,t,r,n,o,i,a,u,d,l,c,s,m,p,f){c.NotifyObservers(),s.NotifyObservers(),e.Init=function(){e.item={Id:null}},e.Search=function(){void 0!==r.id&&""!==r.id&&l.Get(r.id).then(function(t){e.item=t})},e.Search(),e.SearchCustomers=function(e){var t={and:[{Name:{substringof:e}},{CompanyId:{"==":f.GetCompanyId()}}]};return m.Search(t,["Name asc"],0,20,!1).then(function(e){return e})},e.SelectCustomer=function(t,r,n){e.item.CustomerId=t.Id},e.SearchLocations=function(e){var t={and:[{Name:{substringof:e}},{CompanyId:{"==":f.GetCompanyId()}}]};return p.Search(t,["Name asc"],0,20,!1).then(function(e){return e})},e.SelectLocation=function(t,r,n){e.item.LocationId=t.Id},e.Save=function(){void 0!==e.item.Id&&null!==e.item.Id&&""!==e.item.Id?l.Update(e.item.Id,e.item).then(function(t){e.$parent.Search(),e.Init()},function(e){alert(e)}):(e.item.CompanyId=c.SelectedCompany.Id,e.item.SurveyId=s.SelectedSurvey.Id,l.Create(e.item).then(function(t){e.$parent.Search(),e.Init()},function(e){alert(e)}))}}])}(moment),function(e){"use strict";angular.module("Main").controller("SurveyCustomerLocationController",["$scope","$state","$routeParams","$http","$location","$timeout","breezeservice","breeze","SurveyCustomerLocationService","CompanyApplicationService","SurveyApplicationService","SelectionApplicationService",function(e,t,r,n,o,i,a,u,d,l,c,s){e.Search=function(){var t={SurveyId:{"==":s.GetSurveyId()}};d.Search(t,["Created asc"],0,100,!1).then(function(t){e.items=t})},e.Search(),e.Edit=function(e){t.go("main.admin.surveycustomerlocation.addedit",{id:e},{reload:!1})},e.Delete=function(t){d.Delete(t).then(function(t){e.Search()})}}])}(moment),function(e){"use strict";angular.module("Main").controller("UserRoleAddEditController",["$scope","$state","$stateParams","$routeParams","$http","$location","$timeout","breezeservice","breeze","UserRoleService","CustomerService","RoleService","CompanyApplicationService","SelectionApplicationService",function(e,t,r,n,o,i,a,u,d,l,c,s,m,p){m.NotifyObservers(),e.Init=function(){e.item={Id:null,Name:""}},e.Init(),e.Search=function(){void 0!==r.id&&""!==r.id&&l.Get(r.id).then(function(t){e.item=t}),s.Search(null,0,5,!1).then(function(t){e.Roles=t});var t={CompanyId:{"==":p.GetCompanyId()}};c.Search(t,["Name asc"],0,100,!1).then(function(t){e.Customers=t})},e.Search(),e.Save=function(){return!!e.Validate()&&void(void 0!==e.item.Id&&null!==e.item.Id&&""!==e.item.Id?l.Update(e.item.Id,e.item).then(function(t){e.$parent.Search(),e.Init()},function(e){alert(e)}):(e.item.CompanyId=m.SelectedCompany.Id,e.item.RoleId=e.item.Role.Id,void 0!=e.item.Customer&&(e.item.CustomerId=e.item.Customer.Id),l.Create(e.item).then(function(t){e.$parent.Search(),e.Init()},function(e){toastr.error("The username does not exist.")})))},e.Validate=function(){return"Customer"!=e.item.Role.Name||null!=e.item.Customer||(toastr.error("A customer must be selected."),!1)}}])}(moment),function(e){"use strict";angular.module("Main").controller("UserRoleController",["$scope","$state","$routeParams","$http","$location","$timeout","breezeservice","breeze","UserRoleService","SelectionApplicationService",function(e,t,r,n,o,i,a,u,d,l){e.Search=function(){var t=new u.Predicate("CompanyId","==",l.GetCompanyId());d.Search(t,0,100,!1).then(function(t){e.items=t;
})},e.Search(),e.Edit=function(e){t.go("main.admin.userrole.addedit",{id:e},{reload:!1})},e.Delete=function(t){d.Delete(t).then(function(t){e.Search()},function(e){toastr.error(e.data.Message)})}}])}(moment),function(e){"use strict";angular.module("Main").controller("SurveyProductQuestionAddEditController",["$scope","$state","$stateParams","$routeParams","$http","$location","$timeout","breezeservice","breeze","SurveyProductQuestionService","CompanyApplicationService","SurveyApplicationService","ProductService","QuestionService","SelectionApplicationService",function(e,t,r,n,o,i,a,u,d,l,c,s,m,p,f){c.NotifyObservers(),s.NotifyObservers(),e.Init=function(){e.item={Id:null}},e.Search=function(){void 0!==r.id&&""!==r.id&&l.Get(r.id).then(function(t){e.item=t})},e.Search(),e.SearchProducts=function(e){var t={and:[{Name:{substringof:e}},{CompanyId:{"==":f.GetCompanyId()}}]};return m.Search(t,["Name asc"],0,20,!1).then(function(e){return e})},e.SelectProduct=function(t,r,n){e.item.ProductId=t.Id},e.SearchQuestions=function(e){var t={and:[{Name:{substringof:e}},{CompanyId:{"==":f.GetCompanyId()}}]};return p.Search(t,["Name asc"],0,20,!1).then(function(e){return e})},e.SelectQuestion=function(t,r,n){e.item.QuestionId=t.Id},e.Save=function(){void 0!==e.item.Id&&null!==e.item.Id&&""!==e.item.Id?l.Update(e.item.Id,e.item).then(function(t){e.$parent.Search(),e.Init()},function(e){alert(e)}):(e.item.CompanyId=c.SelectedCompany.Id,e.item.SurveyId=s.SelectedSurvey.Id,l.Create(e.item).then(function(t){e.$parent.Search(),e.Init()},function(e){alert(e)}))}}])}(moment),function(e){"use strict";angular.module("Main").controller("SurveyProductQuestionController",["$scope","$state","$routeParams","$http","$location","$timeout","breezeservice","breeze","SurveyProductQuestionService","SelectionApplicationService","SurveyApplicationService",function(e,t,r,n,o,i,a,u,d,l,c){e.Search=function(){var t={SurveyId:{"==":l.GetSurveyId()}};d.Search(t,["Created asc"],0,100,!1).then(function(t){e.items=t})},e.Search(),e.Edit=function(e){t.go("main.admin.surveyproductquestion.addedit",{id:e},{reload:!1})},e.Delete=function(t){d.Delete(t).then(function(t){e.Search()})}}])}(moment),function(e){"use strict";angular.module("Main").config(function(e){e.state("main.merchandise",{url:"/merchandise/:redirectState",templateUrl:"/App/ApplicationComponents/DataEntry/CustomerLocation/MerchandiseCustomerLocation.html"})}),angular.module("Main").controller("MerchandiseCustomerLocationController",["$scope","$state","$stateParams","$http","$location","$timeout","breezeservice","breeze","CompanyService","LocationService","CustomerService","SurveyService","UserService","UserRoleService","RoleService","SurveyCustomerLocationService","CompanyApplicationService","SelectionApplicationService",function(e,t,r,n,o,i,a,u,d,l,c,s,m,p,f,h,S,y){e.RedirectState=r.redirectState,e.SelectedCompany={Id:null},e.IsAdministrator=!1,e.SelectedLocation={Location:{Id:null},Id:null},e.SelectedCustomer={Customer:{Id:null},Id:null},e.SelectedSurvey={Survey:{Id:null},Id:null,SurveyId:null},e.UserId=null,e.Search=function(){d.Search(null,["Name desc"],0,20,!1).then(function(t){1==t.length?(e.Company=t,e.SelectedCompany=t[0],e.SelectCompany()):e.Company=t})},e.Search(),e.SelectCompany=function(){y.SetCompanyId(e.SelectedCompany.Id),e.CustomerSearch(e.SelectedCompany.Id)},e.CustomerSearch=function(t){var r={CompanyId:{"==":t}};c.Search(r,["Name asc"],0,20,!1).then(function(t){e.Customer=t})},e.SelectCustomer=function(){y.SetCustomerId(e.SelectedCustomer.Id),e.LocationSearch(e.SelectedCompany.Id,e.SelectedCustomer.Id)},e.LocationSearch=function(t,r){var n={CompanyId:{"==":t}};l.Search(n,["Name asc"],0,100,!1).then(function(t){1==t.length?(e.Location=t,e.SelectedLocation=t[0],e.SelectLocation()):e.Location=t})},e.SelectLocation=function(){y.SetLocationId(e.SelectedLocation.Id),e.SurveySearch(e.SelectedCompany.Id,e.SelectedCustomer.Id,e.SelectedLocation.Id)},e.SurveySearch=function(t,r,n){var o={and:[{CompanyId:{"==":t}},{CustomerId:{"==":r}},{LocationId:{"==":n}}]};h.Search(o,["Created asc"],0,100,!1).then(function(t){e.Survey=t})},e.SelectSurvey=function(){y.SetSurveyId(e.SelectedSurvey.SurveyId),t.go(r.redirectState)},e.IsGoShown=function(){return"main.survey"!=r.redirectState}}])}(moment),function(e){"use strict";angular.module("Main").config(function(e){e.state("main.survey",{url:"/survey/:companyId/:surveyId/:customerId/:locationId/:surveyHeaderId",templateUrl:"/App/ApplicationComponents/DataEntry/Survey/MerchandiseSurvey.html"})}),angular.module("Main").controller("MerchandiseSurveyController",["$scope","$q","$state","$stateParams","$http","$location","$timeout","breezeservice","breeze","CompanyService","LocationService","CustomerService","SurveyService","UserService","SurveyCustomerLocationService","SurveyProductQuestionService","CompanyApplicationService","SurveyHeaderService","SurveyDetailService","ImageService","SelectionApplicationService",function(e,t,r,n,o,i,a,u,d,l,c,s,m,p,f,h,S,y,v,C,I){null!=I.GetCompanyId()&&null!=I.GetCustomerId()&&null!=I.GetLocationId()&&null!=I.GetSurveyId()||null!=I.GetSurveyHeaderId()||r.go("main.merchandise",{redirectState:"main.survey"}),e.BeforeImage=null,e.AfterImage=null,e.Header={BeforeImage:null,AfterImage:null,Latitude:null,Longitude:null,CompanyId:I.GetCompanyId(),SurveyId:I.GetSurveyId(),CustomerId:I.GetCustomerId(),LocationId:I.GetLocationId()},navigator.geolocation.getCurrentPosition(function(t){e.Header.Latitude=t.coords.latitude,e.Header.Longitude=t.coords.longitude}),e.Detail=[],e.Search=function(){if(void 0!=I.GetSurveyHeaderId()&&null!=I.GetSurveyHeaderId()&&""!=I.GetSurveyHeaderId()){var t={Id:{"==":I.GetSurveyHeaderId()}};y.Search(t,["Created desc"],0,1,!1).then(function(t){e.Header=t[0]});var t={SurveyHeaderId:{"==":I.GetSurveyHeaderId()}};v.Search(t,["Created desc"],0,100,!1).then(function(t){e.Detail=t}),e.BeforeImage="/api/v1/ImageApi/GetBeforeImage/"+I.GetSurveyHeaderId(),e.AfterImage="/api/v1/ImageApi/GetAfterImage/"+I.GetSurveyHeaderId()}else{var t={SurveyId:{"==":I.GetSurveyId()}};h.Search(t,["Created desc"],0,100,!1).then(function(t){e.Detail=t})}},e.Search(),e.setBeforeImage=function(t){var r=new FileReader;e.Header.BeforeImage=t.files[0],r.onload=function(t){e.BeforeImage=t.target.result,e.$apply()},r.readAsDataURL(t.files[0])},e.setAfterImage=function(t){var r=new FileReader;e.Header.AfterImage=t.files[0],r.onload=function(t){e.AfterImage=t.target.result,e.$apply()},r.readAsDataURL(t.files[0])},e.Save=function(){var n=[],o=null;if(!e.Validate())return!1;if(void 0!=I.GetSurveyHeaderId()&&null!=I.GetSurveyHeaderId()&&""!=I.GetSurveyHeaderId()){var i=[];angular.forEach(e.Detail,function(e,t){i.push({Id:e.Id,Answer:e.Answer})});var a={Header:e.Header,Details:i};o=y.UpdateBulk(e.Header.Id,a).then(function(r){n.push(o),o=C.CreateBeforeImage(e.Header.BeforeImage,r.data.Id),n.push(o),o=C.CreateAfterImage(e.Header.AfterImage,r.data.Id),n.push(o),t.all([n]).then(function(){toastr.success("Save successful.")})})}else{var i=[];angular.forEach(e.Detail,function(e,t){i.push({CompanyId:I.GetCompanyId(),ProductId:e.Product.Id,QuestionId:e.Question.Id,Answer:e.Answer})});var a={Header:e.Header,Details:i};o=y.CreateBulk(a).then(function(i){o=C.CreateBeforeImage(e.Header.BeforeImage,i.data.Id),n.push(o),o=C.CreateAfterImage(e.Header.AfterImage,i.data.Id),n.push(o),t.all([n]).then(function(){toastr.success("Save successful."),I.SetSurveyHeaderId(i.data.Id),r.go("main.merchandise",{redirectState:"main.survey"})})}),n.push(o)}},e.Validate=function(){var t=0,r=0;if(null!=e.Header.BeforeImage)var t=e.Header.BeforeImage.size;if(null!=e.Header.AfterImage)var r=e.Header.AfterImage.size;return!(t>3096e3||r>3096e3)||(alert("File size is more then 3 Megabytes."),!1)},e.DeleteBeforeImage=function(){e.BeforeImage=null,e.Header.BeforeImage=null,void 0!=I.GetSurveyHeaderId()&&null!=I.GetSurveyHeaderId()&&""!=I.GetSurveyHeaderId()&&C.DeleteBeforeImage(I.GetSurveyHeaderId()).then(function(){})},e.DeleteAfterImage=function(){e.AfterImage=null,e.Header.AfterImage=null,angular.element(document.querySelector("#AfterImage")).empty(),void 0!=I.GetSurveyHeaderId()&&null!=I.GetSurveyHeaderId()&&""!=I.GetSurveyHeaderId()&&C.DeleteAfterImage(I.GetSurveyHeaderId()).then(function(){})}}])}(moment),function(e){"use strict";angular.module("Main").config(function(e){e.state("surveydata",{url:"/surveydata/",templateUrl:"/App/ApplicationComponents/DataEntry/SurveyData/MerchandiseSurveyData.html"})}),angular.module("Main").controller("MerchandiseSurveyDataController",["$scope","$state","$stateParams","$http","$location","$timeout","uiGridConstants","breezeservice","breeze","CompanyService","LocationService","CustomerService","SurveyService","UserService","SurveyCustomerLocationService","SurveyProductQuestionService","CompanyApplicationService","SurveyHeaderService","SurveyDetailService",function(e,t,r,n,o,i,a,u,d,l,c,s,m,p,f,h,S,y,v){e.grid={options:{showGridFooter:!0,enableFiltering:!0,enableSorting:!0,headerTooltip:!0,onRegisterApi:function(t){e.gridApi=t},enableGridMenu:!0,exporterCsvFilename:"data.csv",exporterPdfOrientation:"portrait",exporterPdfPageSize:"LETTER",exporterPdfMaxGridWidth:450,data:null,columnDefs:[{field:"Id",displayName:"",width:"60",enableFiltering:!1,enableSorting:!1,cellTemplate:'<div><button class="btn btn-danger btn-sm" ng-click="grid.appScope.vm.functions.data.delete(row.entity.Id)">Delete</button></div>'},{field:"Id",headerTooltip:!0,displayName:"Id"}]}},e.Search=function(){}}])}(moment),function(e){"use strict";angular.module("Main").config(function(e){e.state("main.reportmain",{url:"/reportmain",templateUrl:"/App/ApplicationComponents/Report/Main/ReportMain.html"})}),angular.module("Main").controller("ReportMainController",["$scope","$state","$stateParams","$http","$location","$timeout","breezeservice","breeze","ReportService","SurveyHeaderService","SelectionApplicationService","UserService",function(e,t,r,n,o,i,a,u,d,l,c,s){null==c.GetCompanyId()&&t.go("main.merchandise",{redirectState:"main.reportmain"}),e.Search=function(){d.Search(c.GetCompanyId(),null,c.GetCustomerId(),c.GetLocationId(),null,c.GetSurveyId(),null,0,1e4).then(function(t){e.gridOptions.data=t,s.IsAdministrator(c.GetCompanyId()).then(function(t){return 1!=t?s.IsDataEntry(c.GetCompanyId()):void e.gridOptions.columnDefs.splice(0,0,{name:"Manage",cellTemplate:"/App/ApplicationComponents/Report/Main/CellTemplates/EditDelete.html"})}).then(function(t){1==t&&e.gridOptions.columnDefs.splice(0,0,{name:"Manage",cellTemplate:"/App/ApplicationComponents/Report/Main/CellTemplates/EditDelete.html"})}),e.gridOptions.columnDefs.push({field:"ProductName",name:"Product Name",cellTooltip:!0}),e.gridOptions.columnDefs.push({field:"SurveyName",name:"Survey Name",cellTooltip:!0});var r=[],n=e.gridOptions.data[0];for(var o in n)r.push(o),"Created"==o||o.includes("Id")||o.includes("Name")||e.gridOptions.columnDefs.push({name:o,cellTooltip:!0});e.gridOptions.columnDefs.push({name:"Created",cellTooltip:!0,cellTemplate:'<div class="ui-grid-cell-contents" title="TOOLTIP">{{row.entity.Created | date: "MM/dd/yyyy h:mm:ss a": "UTC"}}</div>'})})},e.Search(),e.gridOptions={enableFiltering:!0,enableSorting:!0,enableGridMenu:!0,exporterCsvFilename:"myFile.csv",exporterPdfOrientation:"portrait",exporterPdfPageSize:"LETTER",exporterPdfMaxGridWidth:500,data:[],columnDefs:[]},e.Edit=function(e){c.SetSurveyHeaderId(e.Id),t.go("main.survey")},e.Delete=function(t){l.DeleteBulk(t).then(function(t){e.Search()},function(e){toastr.error("There was an error deleting the survey data.")})}}])}(moment),function(e){"use strict";angular.module("Main").config(function(e){e.state("main.map",{url:"/map",templateUrl:"/App/ApplicationComponents/Report/Map/Map.html"})}),angular.module("Main").controller("MapController",["$scope","$state","$stateParams","NgMap","$http","$location","$timeout","breezeservice","breeze","MapService","SurveyHeaderService","SelectionApplicationService",function(e,t,r,n,o,i,a,u,d,l,c,s){e.SelectedPosition=null,e.Search=function(){var t={and:[{CompanyId:{"==":s.GetCompanyId()}}]};null!=s.GetCustomerId()&&t.and.push({CustomerId:{"==":s.GetCustomerId()}}),null!=s.GetLocationId()&&t.and.push({LocationId:{"==":s.GetLocationId()}}),null!=s.GetSurveyId()&&t.and.push({SurveyId:{"==":s.GetSurveyId()}}),l.Search(t,["Created desc"],0,100,!1).then(function(t){e.positions=t})},n.getMap().then(function(t){e.map=t}),e.Search(),e.SelectPosition=function(t){e.SelectedPosition=t,e.map.panTo({lat:e.SelectedPosition.Latitude,lng:e.SelectedPosition.Longitude})},e.SelectMarker=function(t,r){e.SelectedPosition=r}}])}(moment);
//# sourceMappingURL=app.min.js.map
